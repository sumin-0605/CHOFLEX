<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>초플릭스</title>

  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="CSS/02_main.css" />
</head>

<body>
  <header>
    <nav class="nav">
      <div class="menu">
        <div class="inner">
          <div class="logo_top">
            <div class="logo">
              <a href="index.html">
                <img id="logo" src="img/choflixlogo.png" alt="choflix logo" />
              </a>
            </div>
          </div>
        </div>
        <ul>
          <li><a href="main.html">Home</a></li>
          <li><a href="https://www.choeupchurch.co.kr/">choeup church</a></li>
          <li>
            <a href="https://www.instagram.com/choeup_church_youngman/">insta</a>
          </li>
        </ul>
      </div>
      <div class="avatar">
        <a href="index.html">
          <img id="avatar" src="img/ELIJAH.png" alt="profile icon" />
        </a>
      </div>
    </nav>
  </header>

  <main>
    <div class="banner" id="mainBanner">
      <div class="banner_contents">
        <h1 class="banner_title">열왕기상</h1>
        <h3>예언자와 왕들: 불타는 왕국 연대기</h3>
        <div class="banner_btn">
          <a href="https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=1ki&chap=20">
            <button>▶︎ 읽기</button>
          </a>
          <a href="https://www.youtube.com/watch?v=wHvgzbXpeL0&t=">
            <button class="banner_morebtn" style="width: 110px">
              읽을 때 들을 플리
            </button>
          </a>
        </div>
        <p class="banner_description">
          에피소드 1 &lt;열왕기상 20 - 22&gt; : “예언자는 거짓을 싫어한다”<br /><br />
          아람 왕 벤하닷이 사마리아를 침공하지만, 이스라엘 왕 아합은 하나님의
          도우심으로 승리를 거둔다.<br />
          이후 아합은 벤하닷을 살려주고 동맹을 맺어 하나님의 분노를 사는데...
        </p>
      </div>
    </div>

    <!-- 모바일 배너 -->
    <div class="mobile-banner" id="mobileBanner">
      <div class="mobile-banner-overlay">
        <h1 class="mobile-title">열왕기상</h1>
        <p class="mobile-desc">
          에피소드 1 &lt;열왕기상 20 - 22&gt; <br />
          “예언자는 거짓을 싫어한다”
        </p>
        <div class="mobile-buttons">
          <a href="https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=1ki&chap=20">
            <button class="play-btn">▶ 읽기</button>
          </a>
          <a href="https://www.youtube.com/watch?v=wHvgzbXpeL0&t=7147s">
            <button class="save-btn">읽을 때 들을 플리</button>
          </a>
        </div>
      </div>
    </div>

    <!-- CHOFLIX ORIGINALS -->
    <div class="row">
      <h2>CHOFLIX ORIGINALS</h2>
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide"><img src="img/miji1.png" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/jesus01.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/miji2.png" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/jesus02.png" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/miji3.png" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/jesus03.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/miji4.png" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/jesus04.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/miji5.png" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/miji6.png" class="poster-img" /></div>
        </div>
      </div>
    </div>

    <!-- TRENDING NOW -->
    <div class="row">
      <h2>TRENDING NOW</h2>
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide"><img src="img/kido_hea1.png" class="poster-img" data-movie="gallery1" /></div>
          <div class="swiper-slide"><img src="img/kido_jun.jpg" class="poster-img" data-movie="gallery2" /></div>
          <div class="swiper-slide"><img src="img/cc2.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/cc1.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/cc3.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/cc4.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/cc5.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/cc6.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/cc7.jpg" class="poster-img" /></div>
          <div class="swiper-slide"><img src="img/cc8.jpg" class="poster-img" data-movie="gallery3" /></div>
        </div>
      </div>
    </div>
    /<!-- 공통 모달창 -->
    <div id="movieModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <div id="modalContentArea"></div>
      </div>
    </div>
  </main>

  <!-- Swiper Bundle JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- Swiper 초기화 -->
  <script>
    const swipers = document.querySelectorAll(".swiper");
    swipers.forEach((el) => {
      new Swiper(el, {
        slidesPerView: "auto",
        spaceBetween: 8,
        freeMode: true,
        grabCursor: true,
      });
    });

    // 스크롤 시 헤더 색상 바꾸기
    window.addEventListener("scroll", function () {
      const header = document.querySelector("header");
      if (window.scrollY > 50) {
        header.classList.add("scrolled");
      } else {
        header.classList.remove("scrolled");
      }
    });
  </script>

  <script>
    const movieData = {
      gallery1: {
        type: "gallery",
        title: "해원 기도편지",
        images: [
          "img/kido_hea1.png",
          "img/kido_hea2.png",
        ],
        description: "기도 많이 부탁드립니다",
      },
      gallery2: {
        type: "gallery",
        title: "준혁 기도편지",
        images: [
          "img/kido_jun.jpg"
        ],
        description: "기도 많이 부탁드립니다",
      },
      gallery3: {
        type: "gallery",
        title: "왜 눌러보셨나요...?",
        images: [
          "img/cc8.jpg"
        ]
      }
      ,
      0: {
        title: "사무엘하",
        description: "",
        img: "img/miji1.png"
      },
      1: {
        title: "패션오브크라이스트",
        description: "전 세계가 주목한 최고의 화제작 역사상 가장 위대한 희생의 기록!",
        img: "img/jesus01.jpg"
      },
      2: {
        title: "사무엘상",
        description: "",
        img: "img/miji2.png"
      },
      3: {
        title: "십계",
        description: "하나님의 음성을 듣는 자, 약속의 땅을 향한 위대한 여정이 시작된다!",
        img: "img/jesus02.png"
      }
      ,
      4: {
        title: "사무엘하",
        description: "",
        img: "img/miji3.png"
      }
      ,
      5: {
        title: "드롭박스",
        description: "작은 상자 안에 담긴 형언할 수 없는 생명의 무게! 가장 절실한 사랑이 있는 곳 <드롭박스>",
        img: "img/jesus03.jpg"
      }
      ,
      6: {
        title: "사무엘하",
        description: "",
        img: "img/miji4.png"
      }
      ,
      7: {
        title: "바울",
        description: "성경 역사상 가장 뜨거운 마지막 여정이 시작된다!",
        img: "img/jesus04.jpg"
      }
      ,
      8: {
        title: "사무엘하",
        description: "24명으로 시작된 이야기",
        img: "img/miji5.png"
      }
      ,
      9: {
        title: "사무엘하",
        description: "'주께서는 이미 너에게서 떠나 너의 원수가 되셨다.'",
        img: "img/miji6.png"
      }
    };

    const modal = document.getElementById("movieModal");
    const modalContentArea = document.getElementById("modalContentArea");
    const closeBtn = document.querySelector(".close");

    const posters = document.querySelectorAll(".poster-img");
    posters.forEach((poster, index) => {
      poster.addEventListener("click", () => {
        const movieId = poster.dataset.movie || index; // gallery1 또는 숫자
        const data = movieData[movieId];

        if (!data) return;

        if (data.type === "gallery") {
          // 🖼️ 갤러리 모드
          let slides = "";
          data.images.forEach((imgPath) => {
            slides += `<div class="swiper-slide"><img src="${imgPath}" style="width:100%; border-radius: 0.5rem;" /></div>`;
          });

          modalContentArea.innerHTML = `
          <h2>${data.title}</h2>
          <div class="swiper gallerySwiper">
            <div class="swiper-wrapper">
              ${slides}
            </div>
            <div class="swiper-pagination"></div>
          </div>
        `;
          modal.style.display = "block";

          setTimeout(() => {
            if (window.gallerySwiper) {
              window.gallerySwiper.destroy(true, true);
            }
            window.gallerySwiper = new Swiper(".gallerySwiper", {
              slidesPerView: 1,
              spaceBetween: 10,
              pagination: {
                el: ".swiper-pagination",
                clickable: true,
              },
            });
          }, 100);
        } else {
          // 📸 일반 모드
          modalContentArea.innerHTML = `
          <h2>${data.title}</h2>
          <img src="${data.img}" alt="${data.title}" style="width:100%; margin-top:1rem; border-radius:0.5rem;" />
          <p style="margin-top:1rem; line-height:1.5;">${data.description}</p>
        `;
          modal.style.display = "block";
        }
      });
    });

    closeBtn.onclick = () => {
      modal.style.display = "none";
    };

    window.onclick = (e) => {
      if (e.target === modal) {
        modal.style.display = "none";
      }
    };
  </script>
  <!-- 자동변경되는 js -->
<script>
  const bannerData = [
    {
      date: "2025-06-09",
      img: "season1/assets/banner.png",
      title: "열왕기상",
      subtitle: "예언자와 왕들: 불타는 왕국 연대기",
      description:`에피소드 1 <열왕기상 20 - 22> <br/> “눈 앞의 이익에 눈 멀은 자”`,
      link: "https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=1ki&chap=20",
      playlist: "https://www.youtube.com/watch?v=wHvgzbXpeL0&t=7147s"
    },
    {
      date: "2025-06-10",
      img: "season2/assets/banner.png",
      title: "열왕기하",
      subtitle: "엘리야오 아하시야 왕",
      description: `에피소드 2 <열왕기하 1 - 3> <br> "엘리야가 하늘로 올라가다"`,
      link: "https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=2ki&chap=1",
      playlist: "https://www.youtube.com/watch?v=TKSS0P4H2zQ"
    },
    {
      date: "2025-06-11",
      img: "season3/assets/banner.png",
      title: "열왕기하",
      subtitle: "기적",
      description: `에피소드 3 <열왕기하 4 - 6> : "기적의 연속"<br><br>`,
      link: "https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=2ki&chap=4&sec=1&cVersion=&fontSize=15px&fontWeight=normal",
      playlist: "https://www.youtube.com/watch?v=wHvgzbXpeL0&t=8000s"
    },
    {
      date: "2025-06-12",
      img: "season4/assets/banner.png",
      title: "열왕기하",
      subtitle: "기적",
      description: `에피소드 4 <열왕기하 7 - 9> <br> "기름부음 받은 자, 예후"<br><br>`,
      link: "https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=2ki&chap=7&sec=1&cVersion=&fontSize=15px&fontWeight=normal",
      playlist: "https://www.youtube.com/watch?v=wHvgzbXpeL0&t=8000s"
    },
    {
      date: "2025-06-13",
      img: "season5/assets/banner.png",
      title: "열왕기하",
      subtitle: "기적",
      description: `에피소드 5 <열왕기하 10 - 12> <br> "왕의 집을 쓸어버리다<br><br>`,
      link: "https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=2ki&chap=10&sec=1&cVersion=&fontSize=15px&fontWeight=normal",
      playlist: "https://www.youtube.com/watch?v=wHvgzbXpeL0&t=8000s"
    },
        {
      date: "2025-06-14",
      img: "season6/assets/banner.png",
      title: "열왕기하",
      subtitle: "기적",
      description: `에피소드 6 <열왕기하 13 - 17> <br> "붕괴 직전, 북왕국 최후의 다섯 장면<br><br>`,
      link: "https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=2ki&chap=13&sec=1&cVersion=&fontSize=15px&fontWeight=normal",
      playlist: "https://www.youtube.com/watch?v=wHvgzbXpeL0&t=8000s"
    },
         {
      date: "2025-06-15",
      img: "season7/assets/banner.png",
      title: "열왕기하",
      subtitle: "기적",
      description: `에피소드 7 <열왕기하 18 - 22> <br> "희망의 불씨: 무너진 성전에서 부는 회개의 바람<br><br>`,
      link: "https://www.bskorea.or.kr/bible/korbibReadpage.php?version=GAE&book=2ki&chap=18&sec=1&cVersion=&fontSize=15px&fontWeight=normal",
      playlist: "https://www.youtube.com/watch?v=wHvgzbXpeL0&t=8000s"
    },
  ];

  // const today = new Date().toISOString().split("T")[0];
  const today = new Date().toISOString().split("T")[0];

  const todayData = bannerData.find(b => b.date === today) || bannerData[0];

  // 디바이스 크기 체크
  const isMobile = window.innerWidth <= 768;

  // 배너 이미지 및 위치 지정
  const mainBanner = document.getElementById("mainBanner");
  const mobileBanner = document.getElementById("mobileBanner");

  if (mainBanner) {
    mainBanner.style.backgroundImage = `url(${todayData.img})`;
    mainBanner.style.backgroundSize = "cover";
    mainBanner.style.backgroundPosition = isMobile ? "right center" : "center";
  }

  if (mobileBanner) {
    mobileBanner.style.backgroundImage = `url(${todayData.img})`;
    mobileBanner.style.backgroundSize = "cover";
    mobileBanner.style.backgroundPosition = "right center";
  }

  // 텍스트 및 링크 설정
  document.querySelector(".banner_title").textContent = todayData.title;
  document.querySelector(".banner_contents h3").textContent = todayData.subtitle;
  document.querySelector(".banner_description").innerHTML = todayData.description;

  const pcLinks = document.querySelectorAll(".banner_btn a");
  if (pcLinks.length > 0) pcLinks[0].href = todayData.link;
  if (pcLinks.length > 1) pcLinks[1].href = todayData.playlist;

  document.querySelector(".mobile-title").textContent = todayData.title;
  document.querySelector(".mobile-desc").innerHTML = todayData.description.split("<br>")[0];

  const mobileLinks = document.querySelectorAll(".mobile-buttons a");
  if (mobileLinks.length > 0) mobileLinks[0].href = todayData.link;
  if (mobileLinks.length > 1) mobileLinks[1].href = todayData.playlist;
</script>
</body>

</html>
